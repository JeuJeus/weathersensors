%!TEX root = ../Thesis.tex
\section*{Anhang}
\addcontentsline{toc}{section}{Anhang}
\fancyhead[R]{Anhang}

\anhangsverzeichnis

\anhang{Schnittstellen}\label{Anhang:Schnittstellen}

\subanhang{Antwort GET-Request auf \enquote{/weatherData}}
\begin{figure}[bht]
    \begin{lstlisting}[caption=Antwort GET-Request /weatherData, label=list:getWeatherData]
		{"sensors":[
			{"ID":1,
				"MAC_ADDRESS":"e0:98:06:86:23:bc",
				"LOCATION":"Julius (Paderborn)",
				"LAST_UPDATE":1605628770000
			},
			{"ID":2,
				"MAC_ADDRESS":"68:c6:3a:88:c0:cd",
				"LOCATION":"Jonathan (nun auch nach alledem in Paderborn)",
				"LAST_UPDATE":1605357215000
			},
			{"ID":3,
				"MAC_ADDRESS":"f4:cf:a2:d1:49:3e",
				"LOCATION":"Philipp (Paderborn)",
				"LAST_UPDATE":1605628927000
			}
			],
		"sensorData":[
			{"SENSOR_ID":1,
				"TIMESTAMP":1604251064000,
				"TEMPERATURE":21.610001,
				"AIRPRESSURE":996.586426,
				"HUMIDITY":60.304688
			},
			{"SENSOR_ID":1,
				"TIMESTAMP":1604251364000,
				"TEMPERATURE":21.610001,
				"AIRPRESSURE":996.608887,
				"HUMIDITY":60.868164
			}
			]
		}
    \end{lstlisting}
\end{figure}

\pagebreak

\subanhang{Antwort GET-Request auf \enquote{/sensorData/id/1}}
\begin{figure}[bht]
    \begin{lstlisting}[caption=Antwort GET-Request /sensorData/id/1, label=list:getSensorData1]
		{"sensorData":[
			{"SENSOR_ID":1,
				"TIMESTAMP":1604251064000,
				"TEMPERATURE":21.610001,
				"AIRPRESSURE":996.586426,
				"HUMIDITY":60.304688
			},
			{"SENSOR_ID":1,
				"TIMESTAMP":1604251364000,
				"TEMPERATURE":21.610001,
				"AIRPRESSURE":996.608887,
				"HUMIDITY":60.868164
			},
			{"SENSOR_ID":1,
				"TIMESTAMP":1604251666000,
				"TEMPERATURE":21.610001,
				"AIRPRESSURE":996.680603,
				"HUMIDITY":60.949219
			}
			]
		}
    \end{lstlisting}
\end{figure}

\pagebreak

\subanhang{Antwort GET-Request auf \enquote{/sensors}}
\begin{figure}[bht]
    \begin{lstlisting}[caption=Antwort GET-Request /sensors, label=list:getSensors]
	{"sensors":[
		{"ID":1,
			"MAC_ADDRESS":"e0:98:06:86:23:bc",
			"LOCATION":"Julius (Paderborn)",
			"LAST_UPDATE":1605629371000
		},
		{"ID":2,
			"MAC_ADDRESS":"68:c6:3a:88:c0:cd",
			"LOCATION":"Jonathan (nun auch nach alledem in Paderborn)",
			"LAST_UPDATE":1605357215000
		},
		{"ID":3,
			"MAC_ADDRESS":"f4:cf:a2:d1:49:3e",
			"LOCATION":"Philipp (Paderborn)",
			"LAST_UPDATE":1605629652000
		}
	]
}
    \end{lstlisting}
\end{figure}

\subanhang{Antwort GET-Request auf \enquote{/sensor/id/1}}
\begin{figure}[bht]
    \begin{lstlisting}[caption=Antwort GET-Request /sensor/id/1, label=list:getSensor]
	{
		"sensor": {
			"ID": 1,
			"MAC_ADDRESS": "e0:98:06:86:23:bc",
			"LOCATION": "Julius (Paderborn)"
		}
	}
    \end{lstlisting}
\end{figure}

\pagebreak

\anhang{Logdaten}\label{anhang:logdaten}
\textbf{Anmerkung:} Aus Datenschutzgr√ºnden sind alle IP-Adressen im Folgenden zensiert.
\subanhang{Beispielhafter Logauszug Backend}
\begin{figure}[bht]
    \begin{lstlisting}[caption=Beispielhafter Logauszug Backend, label=list:logBackend]
		18.11.2020, 09:41:09 - ERROR :
			POST REQUEST PARSING BODY FAILED FROM [$ZENSIERTE_IP_ADRESSE], REQUEST BODY: {
				"MACADDRESS":"68:c6:3a:88:c0:cd",
				"TIMESTAMP":"1605692160",
				"TEMPERATURE":-143.25,
				"AIRPRESSURE":1185.736206,
				"HUMIDITY":100
			}

		INSERT INTO SENSOR (MAC_ADDRESS, LOCATION)
			VALUES (?, "") EXCEPT
				SELECT MAC_ADDRESS, LOCATION FROM SENSOR WHERE MAC_ADDRESS = ?

		18.11.2020, 09:41:25 - INFO :
			GOT REQUEST TO [/weatherData] FROM [$ZENSIERTE_IP_ADRESSE]

		18.11.2020, 09:41:42 - INFO :
			GOT REQUEST TO [/sensorData/id/1?granularity=100] FROM [$ZENSIERTE_IP_ADRESSE]

		18.11.2020, 09:41:43 - INFO :
			GOT REQUEST TO [/sensors/] FROM [$ZENSIERTE_IP_ADRESSE]

		18.11.2020, 09:41:44 - INFO :
			GOT REQUEST TO [/sensor/id/1] FROM [$ZENSIERTE_IP_ADRESSE]
    \end{lstlisting}
\end{figure}

\subanhang{Beispielhafter Logauszug Frontend}
\begin{figure}[bht]
    \begin{lstlisting}[caption=Beispielhafter Logauszug Frontend, label=list:logFrontend]
		16.11.2020, 11:00:34 - INFO :
			FRONTEND STARTED

		16.11.2020, 11:08:58 - INFO :
			GOT REQUEST TO [/] FROM [$ZENSIERTE_IP_ADRESSE]

		16.11.2020, 11:09:54 - INFO :
			GOT REQUEST TO [/] FROM [$ZENSIERTE_IP_ADRESSE]

		16.11.2020, 11:09:54 - INFO :
			GOT REQUEST TO [/favicon.ico] FROM [$ZENSIERTE_IP_ADRESSE]

		16.11.2020, 12:50:18 - INFO :
			GOT REQUEST TO [/robots.txt] FROM [$ZENSIERTE_IP_ADRESSE]
    \end{lstlisting}
\end{figure}
