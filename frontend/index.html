<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AWE2</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<table id="sensorTable" style="border: 1px solid black;"></table>
<hr>
<table id="sensorDataTable" style="border: 1px solid black;"></table>


<script>
    $.get("http://localhost:3000/weatherData", function(data, status){
        let sensorTable = document.querySelector("#sensorTable")
        let sensorDataTable = document.querySelector("#sensorDataTable")
        data.sensors.forEach(element => {
            let tr = document.createElement("tr")
            let td_id = document.createElement("td")
            let td_mac = document.createElement("td")
            let td_loc = document.createElement("td")
            
            td_id.innerHTML = element.ID
            td_mac.innerHTML = element.MAC_ADDRESS
            td_loc.innerHTML = element.LOCATION

            sensorTable.appendChild(tr)
            tr.appendChild(td_id)
            tr.appendChild(td_mac)
            tr.appendChild(td_loc)
        });

        data.sensorData.forEach(element => {
            let tr = document.createElement("tr")
            let td_id = document.createElement("td")
            let td_ts = document.createElement("td")
            let td_temp = document.createElement("td")
            let td_airp = document.createElement("td")
            let td_humid = document.createElement("td")
            
            td_id.innerHTML = element.SENSOR_ID
            td_ts.innerHTML = element.TIMESTAMP
            td_temp.innerHTML = element.TEMPERATURE
            td_airp.innerHTML = element.AIRPRESSURE
            td_humid.innerHTML = element.HUMIDITY

            sensorDataTable.appendChild(tr)
            tr.appendChild(td_id)
            tr.appendChild(td_ts)
            tr.appendChild(td_temp)
            tr.appendChild(td_airp)
            tr.appendChild(td_humid)
        });
    })
</script>
</body>
</html>
